# Claude Code カスタムコマンド: design2tasks

設計書からAI開発タスクを自動生成する、実戦的なClaude Code カスタムコマンドです。

## 🚀 主要機能

**設計書を読み込んで、AIコーディングアシスタントが効率的に実装できる構造化されたタスクファイルを自動生成**

### 特徴

- **📋 TDD完全サポート**: サーバーサイドのRed-Green-Refactorサイクル全体を1つの工程として管理
- **📊 進捗追跡**: 各工程の成果を管理し、計画変更履歴も自動追跡  
- **🤖 自律的AI活用**: 具体的なコード例は含めず、AIが既存コードを探索して最適実装を判断
- **🔄 柔軟な計画更新**: 開発中の発見に基づいて計画を動的に調整可能
- **📁 完全自己完結**: 各タスクファイルに必要な参照情報がすべて記載済み

## 📁 生成される構造

```
tmp/tasks/[設計書名]/
├── summary.md                    # 全体工程リストと共通事項
├── task_001_product_api_tdd.md  # 工程1: API実装(TDDサイクル)
├── task_002_auth_tdd.md         # 工程2: 認証実装(TDDサイクル) 
├── task_003_product_list_ui.md  # 工程3: UI実装+E2E確認
├── results/                     # 各工程の成果ファイル
│   ├── task_001_result.md
│   └── task_002_result.md
├── plan-history/                # 計画変更履歴
└── pending-tasks/               # 新規タスク案
```

## 🎯 使用方法

### 超シンプル！2ステップだけ

#### 1. タスクファイル生成
```bash
/design2tasks design.md
```

#### 2. 生成されたタスクファイルをAIに渡す
```
tmp/tasks/design/task_001_product_api_tdd.md
```

Claude Codeで生成されたタスクファイルのパスをそのまま送信するだけです。

**それだけです！**

各タスクファイルには以下が自動で記載されているので、AIが適切に作業できます：
- `summary.md`の参照指示
- 前工程の成果ファイル(`results/task_XXX_result.md`)の参照指示  
- 設計書ファイルの参照指示
- 作業完了後の成果ファイル生成指示

### 実行の流れ
1. **タスクファイルのパスをAIに送信** → AIが自動でsummary.mdや前回結果を参照して作業
2. **AIが成果ファイル(`results/task_XXX_result.md`)を生成**
3. **次のタスクファイルのパスを送信** → AIが前回成果を自動参照
4. **以下、順次実行...**

### 計画の動的更新

開発中に新たな要件や課題が発見された場合：

```bash
# 同じコマンドを再実行するだけ
/design2tasks design.md
```

- **完了済みタスクは保護**: 成果ファイルがあるタスクは上書きしない
- **新規タスクを自動追加**: 成果ファイルの「計画への影響」を読み取り反映
- **変更履歴を記録**: `plan-history/` に更新内容を保存

## 💡 このツールの革新性

### 従来のAI開発の問題
- プロンプトが長すぎて管理困難
- 前回の作業内容を忘れる
- タスクの分割粒度が不適切
- 進捗管理ができない

### design2tasksの解決策
- **🎯 最適化されたプロンプト**: 各タスクが独立して完結
- **🧠 完璧な記憶継承**: 前回作業の成果を自動参照
- **⚡ 理想的なタスク分割**: TDDサイクル単位での実装
- **📊 自動進捗管理**: 成果ファイルによる完了状況追跡

## 🛠 技術スタック対応

このツールは **CLAUDE.md** に記載された技術スタックに自動で対応します。
CLAUDE.mdが存在しない場合のみ、汎用的な設定を使用します。

## 📈 開発効率の劇的向上

- **タスク分割時間**: 数時間 → 数分
- **AI指示作成**: 手動 → 完全自動
- **進捗管理**: 手動追跡 → 自動化
- **品質保証**: 不安定 → TDDによる確実な品質

## 🚀 クイックスタート

1. **設計書準備**: `design.md` などの設計書を作成
2. **タスク生成**: `/design2tasks design.md` を実行  
3. **順次実行**: 生成されたタスクファイルのパスを順番にAIに送信

**たったこれだけで、構造化された高品質な開発が始まります！**

---

**次世代のAI駆動開発を体験してください。**